\documentclass[a4paper, 12pt]{article}
\usepackage{scrextend, algorithm,algorithmic, amssymb, amsmath, cancel, framed, geometry, listings, lmodern, mathtools,multirow,parskip, paralist,pgfplots,extarrows, ragged2e,setspace,tcolorbox, upquote, tikz, enumitem}
\setlist{nosep}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{newtxmath}
\usepackage[english]{babel}
\usetikzlibrary{positioning}
\usepackage{xcolor}
\definecolor{mypink1}{RGB}{0, 170, 0}
\usepackage[utf8x]{inputenc}
\usepackage{fancyhdr}
\fancyhf{}
\usepackage{tabu}
\pagestyle{fancy}
\rfoot{Page \thepage}
\usepackage[T1]{fontenc}
\usepackage[colorlinks]{hyperref}
\hypersetup{
	colorlinks,
	filecolor=magenta,
	linkcolor=blue,
	citecolor=mypink1,      
	urlcolor=cyan,
}
\geometry{
	a4paper,
	total={170mm,257mm},
	left=20mm,
	top=20mm,
}
\usepackage{caption}
\usepackage{xurl}
%\usepackage{calrsfs}
%\DeclareMathAlphabet{\pazocal}{OMS}{zplm}{m}{n}
\newcommand{\stencilpt}[4][]{\node[circle,draw,inner sep=0.1em,minimum size=0.6cm,font=\tiny,#1] at (#2) (#3) {#4}}
\newcommand{\stencilptbig}[4][]{\node[circle,draw,inner sep=0.1em, outer sep=0pt, minimum size=0.7cm,font=\normalfont,#1] at (#2) (#3) {#4}}
\definecolor{shadecolor}{RGB}{240,248,255}
\definecolor{darkred}{rgb}{0.85,0,0}
\setlength{\parskip}{0.5em}
\begin{document}
	\setlength{\parindent}{0cm}
	\renewcommand{\baselinestretch}{0.5}
	\title{Assignment 01}
	\author{ Linard BÃ¼chler, Eric Buffle, Basil Peterhans}
	\date{\today}
	\maketitle
	\tableofcontents{}
\section{Ray-plane intersection}
A ray equation can be formulated as follows:
$$
\textbf{s}(t) = \textbf{o}+ t\textbf{d}
$$
For a plane $\textbf{n}$, the ray-plane intersection can be formulated as:
$$
\textbf{n}^\top (\textbf{o}+ t\textbf{d})- b = 0
$$
solving for $t$, we get
\begin{align*}
\textbf{n}^\top (\textbf{o}+ t\textbf{d})- b &= 0\\
\textbf{n}^\top\textbf{o} + t\textbf{n}^\top\textbf{d} - b &=0\\
\implies t\textbf{n}^\top\textbf{d} &=b - \textbf{n}^\top\textbf{o}\\
\implies t &=\frac{b - \textbf{n}^\top\textbf{o}}{\textbf{n}^\top\textbf{d}} \\
\end{align*}
\section{Ray-cylinder intersection + normal derivations}
The implicit equation for a cylinder centered on $z$ with radius $r$ is
$$
x^2 + y^2 = r^2
$$
where
\begin{align*}
  x&=r\cos\phi\\
  y&=r\sin\phi
\end{align*}
We can now substitute the ray equation in the implicit cylinder equation:
\begin{align*}
(o_x+ td_x)^2 + (o_y+ td_y)^2 = r^2\\
(o_x+ td_x)^2 + (o_y+ td_y)^2 -  r^2 &= 0\\
o_x^2 + 2td_xo_x + t^2d_x^2 + o_y^2 + 2td_yo_y + t^2d_y^2-  r^2 &= 0\\
t^2(d_x^2 + d_y^2) + t(2d_xo_x + 2d_yo_y) + o_x^2  + o_y^2 +  - r^2 &= 0\\
\end{align*}
which is a form of the quadratic equation:
$$
at^2 + bt + c
$$
hence
\begin{itemize}
  \item $a = d_x^2 + d_y^2$
  \item $b = 2d_xo_x + 2d_yo_y$
  \item $c = o_x^2  + o_y^2 +  - r^2$
\end{itemize}
$$
\|\textbf{q} - \textbf{p}_a - (\textbf{v}_a \cdot (\textbf{q} - \textbf{p}_a))\textbf{v}_a\|^2 - r^2 = 0
$$
\begin{itemize}
  \item $r$: radius of a cylinder 
  \item $\textbf{p}_a + \textbf{v}_at$: line orientation of the cylinder
  \item $\textbf{q}$: point on the cylinder
\end{itemize}
to find intersection points with a ray $\textbf{p} + \textbf{v}t$, substitute $\textbf{q} = \textbf{p} + \textbf{v}t$ and solve
\begin{align*}
\|\textbf{p} + \textbf{v}t - \textbf{p}_a - (\textbf{v}_a \cdot (\textbf{p} + \textbf{v}t - \textbf{p}_a))\textbf{v}_a\|^2 - r^2 &= 0
\end{align*}
\begin{thebibliography}{10} % 10 is a random guess of the total number of references 
  \bibitem{Pharr_2018} Pharr et al. Physically Based Rendering:
  From Theory To Implementation, \url{http://www.pbr-book.org/3ed-2018/Shapes/Cylinders.html}%Companion}, Addison-Wesley, Reading, MA, 1994.

\end{thebibliography}
\end{document}
